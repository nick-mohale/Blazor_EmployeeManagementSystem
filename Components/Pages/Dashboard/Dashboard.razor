@page "/"
@page "/dashboard"

@inject EmployeeService EmployeeService
@inject DepartmentService DepartmentService

@using MudBlazor
@using ChartJs.Blazor.ChartJS.LineChart

<h3>Dashboard</h3>


<MudGrid>
    <MudItem xs="12" md="6" lg="6">
        <MudCard Class="m-3" Elevation="3" Color="Color.Primary">
            <MudCardContent>
                <h3 class="mb-4">Total Employees</h3>
                <MudAvatar Size="Size.Large" Color="Color.Primary">
                    <MudIcon Icon="MudIcons.People" />
                </MudAvatar>
                <h1 class="mt-4">@TotalEmployees</h1>
            </MudCardContent>
        </MudCard>
    </MudItem>

    <MudItem xs="12" md="6" lg="6">
        <MudCard Class="m-3" Elevation="3" Color="Color.Secondary">
            <MudCardContent>
                <h3 class="mb-4">Total Departments</h3>
                <MudAvatar Size="Size.Large" Color="Color.Secondary">
                    <MudIcon Icon="MudIcons.Building" />
                </MudAvatar>
                <h1 class="mt-4">@TotalDepartments</h1>
            </MudCardContent>
        </MudCard>
    </MudItem>
</MudGrid>


  

@code {

    [Parameter]
    public int TotalEmployees { get; set; }

    [Parameter]
    public int TotalDepartments { get; set; }

    protected override void OnInitialized()
    {
        LoadData();
    }

    private void LoadData()
    {
        try
        {
            TotalEmployees = EmployeeService.GetEmployees().Count;
            TotalDepartments = DepartmentService.GetDepartments().Count;
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error loading data: {ex.Message}");
        }
    }



}
